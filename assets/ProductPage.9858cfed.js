import{ba as h,az as f,ay as g,r as n,ab as d,m as x,af as V,s,v as a,t as r,Q as b,q as u,y as w,B as Q,aB as q,aD as B,ad as S}from"./index.e0dd589b.js";import{Q as D}from"./QInput.4d10a90f.js";import{Q as N}from"./QForm.3a995762.js";const P={id:"Product"},R={class:"flex flex-center column"},U={class:"text-primary q-my-sm"},k={class:"row"},z=s("div",{class:"col"},null,-1),C={class:"col"},A={class:"col col-12 text-center"},E=["src"],F={class:"col col-12"},I={style:{"white-space":"pre"}},M={class:"col col-12"},J={__name:"ProductPage",setup(T){const m=h(),p=f(),_=g(),i=n(0),y=d([t=>t>=1||"\u6578\u91CF\u932F\u8AA4"]),c=n(!1),e=d({_id:"",name:"",price:0,category:"",sell:!1,image:"",description:""}),v=()=>{_.addCart({product:e._id,quantity:i.value})};return(async()=>{try{const{data:t}=await B.get("/products/"+m.params.id);e._id=t.result._id,e.name=t.result.name,e.price=t.result.price,e.category=t.result.category,e.sell=t.result.sell,e.image=t.result.image,e.description=t.result.description}catch{S.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),p.go(-1)}})(),(t,o)=>(x(),V("div",P,[s("div",R,[s("h1",U,a(e.name),1),r(b,{rounded:"",style:{width:"55px",height:"55px"},color:"primary",class:"q-pa-none",icon:"mdi-cart-variant",type:"submit"})]),s("div",k,[z,s("div",C,[s("div",A,[r(w,{size:"300px",class:""},{default:u(()=>[s("img",{src:e.image},null,8,E)]),_:1})]),s("h3",null," $"+a(e.price),1),s("div",F,[s("p",I,a(e.description),1),Q(" "+a(e.startDay)+" "+a(e.endDay),1)]),s("div",M,[r(N,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=l=>c.value=l),onSubmit:q(v,["prevent"])},{default:u(()=>[r(D,{type:"number",label:"\u6578\u91CF",modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=l=>i.value=l),rules:y},null,8,["modelValue","rules"])]),_:1},8,["modelValue","onSubmit"])])])])]))}};export{J as default};
