import{aD as v,a9 as C,m as a,ac as i,t as s,v as r,y as k,A as u,x as o,q as n,Q as d,aZ as q,ae as w,ad as b,aa as x,ab as l,C as D,p as y,B as Q}from"./index.a1db0f0f.js";import{Q as B}from"./QCardActions.6ad3c481.js";import{Q as S}from"./QCard.8469dab0.js";const $={class:"q-pa-md"},N={class:"box"},V={class:"row text-center"},A={class:"text-center q-mx-auto q-my-md q-mt-lg text-secondary",style:{padding:"0"}},F={class:"row"},L={key:0,class:"text-center q-mx-auto"},j={class:"absolute-bottom q-pb-none",style:{"padding-bottom":"0"}},z={class:"flex row justify-between"},E={class:"text-h6 text-accent"},I={class:"text-subtitle2"},P={class:"text-subtitle3 text-accent"},T=u(". "),J={__name:"CollectionPage",setup(U){const h=v(),{addCart:f}=h,c=C([]),_=async e=>{try{console.log(e),await x.delete("/users/collections/"+e),await l.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),m()}catch(p){l.fire({icon:"error",title:"\u522A\u9664\u5931\u6557",text:p})}},m=async()=>{try{const{data:e}=await x.get("/users/collections");c.splice(0,c.length),c.push(...e.result)}catch(e){l.fire({icon:"error",title:"\u5931\u6557",text:e})}};return m(),(e,p)=>(a(),i("div",$,[s("div",N,[s("div",V,[s("h5",A,[r(k,{name:"mdi-heart-circle",color:"secondary",size:"lg",class:"q-mx-auto"}),u(" "+o(e.$t("collections")),1)])])]),s("div",F,[c.length?q("",!0):(a(),i("div",L,[r(d,{class:"text-center q-mx-auto",color:"primary",to:"/itinerary",style:{"font-size":"25px","border-radius":"16px"}},{default:n(()=>[u(o(e.$t("noCollections")),1)]),_:1})])),(a(!0),i(w,null,b(c,t=>(a(),i("div",{class:"col col-12 col-sm-6 col-md-4 col-lg-3",key:t._id},[r(S,{class:"my-card q-ma-sm",style:{}},{default:n(()=>[r(D,{src:t.product.image,ratio:4/3},{default:n(()=>[s("div",j,[s("div",z,[s("div",E,o(t.product.name),1),s("div",I,"$"+o(t.product.price),1)]),s("div",P,o(new Date(t.product.startDay).toDateString().toLocaleString())+" ~ "+o(new Date(t.product.endDay).toDateString().toLocaleString()),1),r(B,{class:"flex justify-right"},{default:n(()=>[(a(),y(d,{round:"",flat:"",icon:"mdi-cart",key:t._id,class:"text-accent",onClick:g=>{Q(f)({product:t.product._id,quantity:1}),_(t.product._id)}},null,8,["onClick"])),(a(),y(d,{round:"",flat:"",icon:"mdi-delete",key:t.product._id,onClick:g=>_(t.product._id),style:{color:"#FFC0CB"}},null,8,["onClick"]))]),_:2},1024)]),T]),_:2},1032,["src"])]),_:2},1024)]))),128))])]))}};export{J as default};
