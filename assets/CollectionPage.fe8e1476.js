import{ay as x,ab as v,m as a,af as c,s,ah as C,ag as w,ac as p,ad as i,t as n,q as d,A as k,v as r,p as m,z as b,Q as f,B}from"./index.5d83bf10.js";import{Q as D}from"./QCardActions.e71bcbff.js";import{Q}from"./QCard.58209fd9.js";const S={class:"q-pa-md"},q=s("div",{class:"row"},null,-1),A={class:"row"},F={class:"absolute-bottom q-pb-none",style:{"padding-bottom":"0"}},L={class:"flex row justify-between"},N={class:"text-h6 text-accent"},V={class:"text-subtitle2"},$={class:"text-subtitle3 text-accent"},j=B(". "),U={__name:"CollectionPage",setup(z){const h=x(),{addCart:y}=h,o=v([]),l=async e=>{try{console.log(e),await p.delete("/users/collections/"+e),await i.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),u()}catch(_){i.fire({icon:"error",title:"\u522A\u9664\u5931\u6557",text:_})}},u=async()=>{try{const{data:e}=await p.get("/users/collections");o.splice(0,o.length),o.push(...e.result)}catch(e){i.fire({icon:"error",title:"\u5931\u6557",text:e})}};return u(),(e,_)=>(a(),c("div",S,[q,s("div",A,[(a(!0),c(C,null,w(o,t=>(a(),c("div",{class:"col col-12 col-sm-6 col-md-4 col-lg-3",key:t._id},[n(Q,{class:"my-card q-ma-sm",style:{}},{default:d(()=>[n(k,{src:t.product.image,ratio:4/3},{default:d(()=>[s("div",F,[s("div",L,[s("div",N,r(t.product.name),1),s("div",V,"$"+r(t.product.price),1)]),s("div",$,r(new Date(t.product.startDay).toDateString().toLocaleString())+" ~ "+r(new Date(t.product.endDay).toDateString().toLocaleString()),1),n(D,{class:"flex justify-right"},{default:d(()=>[(a(),m(f,{round:"",flat:"",icon:"mdi-cart",key:t._id,class:"text-accent",onClick:g=>{b(y)({product:t.product._id,quantity:1}),l(t.product._id)}},null,8,["onClick"])),(a(),m(f,{round:"",flat:"",icon:"mdi-delete",key:t.product._id,onClick:g=>l(t.product._id),style:{color:"#FFC0CB"}},null,8,["onClick"]))]),_:2},1024)]),j]),_:2},1032,["src"])]),_:2},1024)]))),128))])]))}};export{U as default};
