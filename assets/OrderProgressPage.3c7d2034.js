import{r as x,a9 as y,m as c,p as g,q as i,s as w,aa as b,ab as k,t,v as s,y as D,x as o,ac as r,ad as u,aH as p,ae as m,Q as f,V as Q,af as q}from"./index.46507802.js";import{Q as n}from"./QCardSection.d3efa465.js";import{Q as v}from"./QCard.66194996.js";import{Q as P}from"./QDialog.0ffcdbf9.js";import{_ as S}from"./101.1780e70b.js";const V={class:"text-center"},B={class:"q-my-md text-secondary"},C={class:"q-pa-md"},$={class:"card q-mx-auto box"},L={class:"row"},N={class:"flex justify-between"},j={class:"confirm-id text-dark",style:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},z={class:"text-h6 text-dark"},H={class:"text-subtitle2 text-dark"},I={class:"flex justify-between"},A={class:"text-subtitle2 text-secondary",style:{}},E={class:"text-subtitle2 text-secondary"},F={class:"text-subtitle2 text-secondary"},O={class:"flex column flex-center text-dark q-py-md"},U={class:"text-subtitle1"},G={class:"text-subtitle2"},J={class:"box q-pb-xl"},K={class:"row"},M={class:"col col-12 col-sm-6 col-lg-8",style:{height:"calc(50vh - 60px)"}},R=t("div",{class:"taiwan q-pr-sm",style:{width:"100%",height:"100%",padding:"0"}},null,-1),T={class:"div"},W=t("div",null,[t("iframe",{src:"https://www.google.com/maps/embed?pb=!1m16!1m12!1m3!1d28921.25444131725!2d121.5548065072683!3d25.028752110073523!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!2m1!1staipei%20101!5e0!3m2!1sen!2stw!4v1661482695124!5m2!1sen!2stw",width:"500",height:"350",style:{border:"0"},loading:"lazy"})],-1),X=t("div",{class:"col col-0 col-sm-6 col-lg-4"},[t("div",{class:"div q-pl-sm",style:{width:"100%",height:"calc(50vh - 60px)"}},[t("video",{autoplay:"",loop:"",src:S,style:{width:"100%",height:"calc(50vh - 60px)","object-fit":"cover"}})])],-1),lt={__name:"OrderProgressPage",setup(Y){const _=x(!1),h=y([]);return(async()=>{try{const{data:d}=await b.get("/orders");h.push(...d.result.map(l=>(l.totalPrice=l.products.reduce((a,e)=>a+e.product.price*e.quantity,0),l)))}catch(d){console.log(d),k.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u8A02\u55AE"})}})(),(d,l)=>(c(),g(w,{id:"orderPage"},{default:i(()=>[t("h5",V,[s(D,{name:"fa-solid fa-clock-rotate-left",size:"md",color:"secondary"}),t("h5",B,o(d.$t("orderHistory")),1)]),t("div",C,[t("div",$,[t("div",L,[(c(!0),r(m,null,u(h,a=>(c(),r("div",{class:"col col-12 col-sm-6 col-md-4 col-lg-3",key:a._id},[s(v,{class:"my-card text-white q-ma-md"},{default:i(()=>[s(n,null,{default:i(()=>[t("div",N,[t("div",j,[t("strong",null,o(a._id),1)]),t("div",z,"$"+o(a.totalPrice),1)]),t("div",H,o(new Date(a.date).toLocaleDateString()),1)]),_:2},1024),s(p,{inset:""}),s(n,null,{default:i(()=>[(c(!0),r(m,null,u(a.products,e=>(c(),r("div",{key:e},[t("div",I,[t("div",A,o(e.product.name),1),t("div",E," $"+o(e.product.price),1)]),t("div",F,o(new Date(e.product.startDay).toLocaleDateString())+" ~ "+o(new Date(e.product.endDay).toLocaleDateString()),1)]))),128))]),_:2},1024),s(n),s(p,{inset:""}),(c(!0),r(m,null,u(a.orderInfo,e=>(c(),r("div",{key:e},[t("div",O,[t("div",U,o(d.$t("contactPeople")),1),t("div",G,o(e.lastName)+o(e.firseName),1)])]))),128))]),_:2},1024)]))),128))])])]),t("div",J,[t("div",K,[t("div",M,[s(f,{flat:"",style:{width:"100%",height:"100%",padding:"0"},onClick:l[0]||(l[0]=a=>_.value=!0)},{default:i(()=>[R]),_:1}),s(P,{modelValue:_.value,"onUpdate:modelValue":l[1]||(l[1]=a=>_.value=a),seamless:"",position:"bottom"},{default:i(()=>[s(v,{class:"dialog-map bg-accent",flat:""},{default:i(()=>[t("div",T,[Q(s(f,{flat:"",round:"",icon:"fa-solid fa-close"},null,512),[[q]])]),s(n,null,{default:i(()=>[W]),_:1})]),_:1})]),_:1},8,["modelValue"])]),X])])]),_:1}))}};export{lt as default};
