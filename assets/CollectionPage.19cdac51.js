import{ay as g,ab as x,m as a,af as c,s as e,ah as k,ag as C,ac as p,ad as i,t as d,q as n,A as w,v as o,p as m,z as Q,Q as h,B}from"./index.872c6a74.js";import{Q as b}from"./QCardActions.92fd92e8.js";import{Q as q}from"./QCard.a12eaa3b.js";const A={class:"q-pa-md"},D=e("div",{class:"row"},null,-1),N={class:"row"},S={class:"absolute-bottom"},V={class:"text-h6"},$={class:"text-subtitle2"},j={class:"text-subtitle3"},z=B(". "),T={__name:"CollectionPage",setup(E){const f=g(),{addCart:y}=f,r=x([]),l=async s=>{try{console.log(s),await p.delete("/users/collections/"+s),await i.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),u()}catch(_){i.fire({icon:"error",title:"\u522A\u9664\u5931\u6557",text:_})}},u=async()=>{try{const{data:s}=await p.get("/users/collections");r.splice(0,r.length),r.push(...s.result)}catch(s){i.fire({icon:"error",title:"\u5931\u6557",text:s})}};return u(),(s,_)=>(a(),c("div",A,[D,e("div",N,[(a(!0),c(k,null,C(r,t=>(a(),c("div",{class:"col col-12 col-sm-6 col-md-4 col-lg-3",key:t._id},[d(q,{class:"my-card q-ma-sm",style:{}},{default:n(()=>[d(w,{src:t.product.image,ratio:4/3},{default:n(()=>[e("div",S,[e("div",V,o(t.product.name),1),e("div",$,"$"+o(t.product.price),1),e("div",j,o(t.product.startDay)+" ~ "+o(t.product.endDay),1),d(b,{class:"flex justify-right"},{default:n(()=>[(a(),m(h,{round:"",flat:"",icon:"mdi-cart",key:t._id,onClick:v=>{Q(y)({product:t.product._id,quantity:1}),l(t.product._id)}},null,8,["onClick"])),(a(),m(h,{round:"",flat:"",icon:"mdi-delete",key:t.product._id,onClick:v=>l(t.product._id)},null,8,["onClick"]))]),_:2},1024)]),z]),_:2},1032,["src"])]),_:2},1024)]))),128))])]))}};export{T as default};
