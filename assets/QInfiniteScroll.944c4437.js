import{h as n,a as E,at as Q,au as q,r as y,d as A,w as v,a1 as j,a0 as k,g as z,o as O,av as U,e as V,aw as _,ax as g,n as F,ay as N,az as C,aA as R,aB as p,j as W,aC as G}from"./index.ebd2d62e.js";const J=[n("circle",{cx:"15",cy:"15",r:"15"},[n("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),n("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),n("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[n("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),n("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),n("circle",{cx:"105",cy:"15",r:"15"},[n("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),n("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])];var X=E({name:"QSpinnerDots",props:Q,setup(a){const{cSize:u,classes:m}=q(a);return()=>n("svg",{class:m.value,fill:"currentColor",width:u.value,height:u.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},J)}});const{passive:o}=_;var Y=E({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:{default:void 0},initialIndex:Number,disable:Boolean,reverse:Boolean},emits:["load"],setup(a,{slots:u,emit:m}){const s=y(!1),l=y(!0),f=y(null);let d=a.initialIndex||0,e,i;const I=A(()=>"q-infinite-scroll__loading"+(s.value===!0?"":" invisible"));function c(){if(a.disable===!0||s.value===!0||l.value===!1)return;const t=g(e),r=N(e),x=p(e);a.reverse===!1?Math.round(r+x+a.offset)>=Math.round(t)&&b():Math.round(r)<=a.offset&&b()}function b(){if(a.disable===!0||s.value===!0||l.value===!1)return;d++,s.value=!0;const t=g(e);m("load",d,r=>{l.value===!0&&(s.value=!1,F(()=>{if(a.reverse===!0){const x=g(e),D=N(e),H=x-t;C(e,D+H)}r===!0?h():f.value&&f.value.closest("body")&&i()}))})}function L(){d=0}function M(){l.value===!1&&(l.value=!0,e.addEventListener("scroll",i,o)),c()}function h(){l.value===!0&&(l.value=!1,s.value=!1,e.removeEventListener("scroll",i,o),i!==void 0&&i.cancel!==void 0&&i.cancel())}function w(){if(e&&l.value===!0&&e.removeEventListener("scroll",i,o),e=R(f.value,a.scrollTarget),l.value===!0){if(e.addEventListener("scroll",i,o),a.reverse===!0){const t=g(e),r=p(e);C(e,t-r)}c()}}function T(t){d=t}const B=W();Object.assign(B.proxy,{poll:()=>{i!==void 0&&i()},trigger:b,stop:h,reset:L,resume:M,setIndex:T});function P(t){t=parseInt(t,10);const r=i;i=t<=0?c:G(c,isNaN(t)===!0?100:t),e&&l.value===!0&&(r!==void 0&&e.removeEventListener("scroll",r,o),e.addEventListener("scroll",i,o))}v(()=>a.disable,t=>{t===!0?h():M()}),v(()=>a.reverse,t=>{s.value===!1&&l.value===!0&&c()}),v(()=>a.scrollTarget,w),v(()=>a.debounce,P);let S=!1;return j(()=>{S!==!1&&e&&C(e,S)}),k(()=>{S=e?N(e):!1}),z(()=>{l.value===!0&&e.removeEventListener("scroll",i,o)}),O(()=>{P(a.debounce),w()}),()=>{const t=U(u.default,[]);return a.disable!==!0&&l.value===!0&&t[a.reverse===!1?"push":"unshift"](n("div",{class:I.value},V(u.loading))),n("div",{class:"q-infinite-scroll",ref:f},t)}}});export{X as Q,Y as a};
